<html>
  <head>
    <title>Leaderboard</title>
    <link rel="stylesheet" href="/third_party/bootstrap.min.css">
    <script src="/third_party/jquery-2.1.4.min.js"></script>
    <script src="/third_party/bootstrap.min.js"></script>
  </head>

  <body>
    <% include header.html %>

    <div class="row" style="width:100%">
      <div class="col-md-8 col-md-offset-2">
        <hr/>
        <% if (typeof runs !== 'undefined') { %>
        <h3>Leaderboard - <%= assignment_name %></h3>
        <% } else { %>
        <h3>Leaderboard</h3>
        <% } %>
        <hr/>
        <div class="col-md-9 col-md-offset-2" style="text-align:center;">
          <% for (assignment in assignments) { %>
          <form style="width: 25%; float: left; margin: 5px 5px 5px 5px;" action="/leaderboard/<%= assignments[assignment].assignment_id %>">
              <input class="btn btn-primary btn-block" type="submit" value="<%= assignments[assignment].name %>">
          </form>
          <% } %>
        </div>
      </div>
    </div>

    <div class="row" style="width:100%">
      <div class="col-md-8 col-md-offset-2">
        <hr/>
        <table id="runs_table" style="width:100%" class="table table-hover table-bordered table-condensed">
          <tr>
            <td bgcolor="#AAAAAA"><center><b>Run ID</b></center></td>
            <td bgcolor="#AAAAAA"><center><b>Summary</b></center></td>
            <td bgcolor="#AAAAAA"><center><b>Passed Checkstyle?</b></center></td>
            <td bgcolor="#AAAAAA"><center><b>Compiled?</b></center></td>
            <td bgcolor="#AAAAAA"><center><b>Passed All Correctness Tests?</b></center></td>
          </tr>
          <% if (typeof runs !== 'undefined') { %>
          <%   var failed_color = '#FF3333'; %>
          <%   var success_color = '#00FF00'; %>
          <%   for (r in runs) { %>
          <%     var status = runs[r].status %>
          <%     var status_color = status === 'FINISHED' ? 'green' : ((status === 'FAILED' || status === 'CANCELLED') ? 'red' : 'orange'); %>
          <%     var checkstyle_color = runs[r].passed_checkstyle ? success_color : failed_color; %>
          <%     var compiled_color = runs[r].compiled ? success_color : failed_color; %>
          <%     var correctness_color = runs[r].passed_all_correctness ? success_color : failed_color; %>
          <tr><td><center><%= runs[r].run_id %></center></td>
              <td><center><font color="<%= status_color %>"><%= runs[r].status %></font></center></td>
              <td width="200px" bgcolor=<%= checkstyle_color %>></td>
              <td width="200px" bgcolor=<%= compiled_color %>></td>
              <td width="200px" bgcolor=<%= correctness_color %>></td>
          </tr>
          <%   } %>
          <% } %>
        </table>
      </div>
    </div>

    <% include footer.html %>
  </body>
</html>
